{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Loader/index.js","Components/Loader/Loader.js","Components/Button/Button.js","Components/Modal/Modal.js","Services/apiService.js","utils/scroll.js","Components/App/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","searchBar","searchForm","this","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","showModal","item","src","alt","image","width","height","onClick","ImageGallery","hits","map","id","key","Loader","color","Button","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","overlay","modal","query","page","requestParams","axios","get","then","response","data","totalHits","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","App","totalPage","loading","error","handleSearchFormSubmit","fetchImages","showNotif","apiService","length","prevState","Math","ceil","catch","message","finally","loadMore","toast","url","closeModal","app","timeout","position","autoClose","newestOnTop","closeOnClick","pauseOnHover","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.98cccc3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3W-Uu\",\"image\":\"ImageGalleryItem_image__3hk_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1W7in\",\"modal\":\"Modal_modal__2Q8XU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2gECP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1PJ8W\"};","import React, { Component } from \"react\";\r\nimport { func } from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: func.isRequired,\r\n  };\r\n\r\n  state = { inputValue: \"\" };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchBar}>\r\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus={true}\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { string, func } from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, showModal }) {\r\n  return (\r\n    <li className={styles.item}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"img\"\r\n        className={styles.image}\r\n        width=\"640\"\r\n        height=\"360\"\r\n        onClick={() => showModal(largeImageURL)}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: string.isRequired,\r\n  largeImageURL: string.isRequired,\r\n  showModal: func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport { func, arrayOf, object } from \"prop-types\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ hits, showModal }) {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          showModal={showModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  hits: arrayOf(object).isRequired,\r\n  showModal: func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from \"./Loader\";\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport Spinner from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className=\"Spinner\">\r\n      <Spinner type=\"Circles\" color=\"#00BFFF\" height={100} width={100} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { func } from \"prop-types\";\r\n\r\nimport styles from \"./Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={styles.button} type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { func, string } from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: func.isRequired,\r\n    largeImageURL: string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return (\r\n      <div className={styles.overlay}>\r\n        <div className={styles.modal}>\r\n          <img src={largeImageURL} alt=\"\" width=\"1280\" height=\"860\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nexport const quantityPictures = \"12\";\r\n\r\nconst fetchPicturesWithQuery = (query, page) => {\r\n  const baseUrl = \"https://pixabay.com/api/\";\r\n  const key = \"16324952-34095f6b5c046a6325f3315db\";\r\n  const requestParams = `?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${quantityPictures}`;\r\n\r\n  return axios.get(baseUrl + requestParams).then((response) => ({\r\n    hits: response.data.hits,\r\n    totalHits: response.data.totalHits,\r\n  }));\r\n};\r\n\r\nexport default {\r\n  fetchPicturesWithQuery,\r\n};\r\n","export default function scroll() {\r\n  return window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\n\n// components\nimport Searchbar from \"../Searchbar\";\nimport ImageGallery from \"../ImageGallery\";\nimport Loader from \"../Loader\";\nimport Button from \"../Button\";\nimport Modal from \"../Modal\";\n\n//utils\nimport apiService, { quantityPictures } from \"../../Services/apiService\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport scroll from \"../../utils/scroll\";\n\n//styles\nimport styles from \"./App.modul.css\";\n\nexport default class App extends Component {\n  state = {\n    hits: [],\n    totalPage: \"\",\n    loading: false,\n    error: null,\n    query: \"\",\n    page: 1,\n    largeImageURL: null,\n  };\n\n  handleSearchFormSubmit = (query) => {\n    if (!query) {\n      this.showNotif(\"Enter some query\");\n      return;\n    }\n\n    this.setState({ query: query, hits: [], page: 1 });\n    this.fetchImages(query);\n  };\n\n  fetchImages = (query) => {\n    this.setState({ loading: true });\n    const { page } = this.state;\n\n    apiService\n      .fetchPicturesWithQuery(query, page)\n      .then((data) => {\n        if (data.length === 0) {\n          this.showNotif(\"No results were found for your request.\");\n          return;\n        }\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...data.hits],\n          page: prevState.page + 1,\n          totalPage: Math.ceil(data.totalHits / quantityPictures + 1),\n        }));\n      })\n      .catch((error) => this.showNotif(`Ups...error${error.message}`))\n      .finally(() => {\n        this.setState({ loading: false });\n        scroll();\n      });\n  };\n\n  loadMore = () => {\n    const { query } = this.state;\n    this.fetchImages(query);\n  };\n\n  showNotif = (message) => {\n    this.setState({ showNotif: true });\n    toast.error(`${message}`);\n  };\n\n  showModal = (url) => {\n    this.setState({ largeImageURL: url });\n  };\n  closeModal = () => {\n    this.setState({ largeImageURL: \"\" });\n  };\n\n  render() {\n    const { hits, loading, largeImageURL, totalPage, page } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\n        {hits.length > 0 && (\n          <ImageGallery hits={hits} showModal={this.showModal} />\n        )}\n        {loading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={2000}\n          />\n        )}\n        {hits.length > 0 && !loading && page !== totalPage && (\n          <Button onClick={this.loadMore} />\n        )}\n        {largeImageURL && (\n          <Modal\n            largeImageURL={largeImageURL}\n            onClose={this.closeModal}\n          ></Modal>\n        )}\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={5000}\n          newestOnTop={false}\n          closeOnClick\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport App from \"./Components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__3v23W\",\"searchForm\":\"Searchbar_searchForm__AmFRu\",\"button\":\"Searchbar_button__10Ydd\",\"label\":\"Searchbar_label__3f9ZV\",\"input\":\"Searchbar_input__1wOWA\"};"],"sourceRoot":""}