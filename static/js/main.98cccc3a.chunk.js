(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"ImageGalleryItem_item__3W-Uu",image:"ImageGalleryItem_image__3hk_p"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__1W7in",modal:"Modal_modal__2Q8XU"}},23:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2gECP"}},25:function(e,t,a){e.exports={button:"Button_button__1PJ8W"}},27:function(e,t,a){},28:function(e,t,a){e.exports=a(74)},33:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(3),c=a.n(r),l=(a(33),a(12)),i=a(4),s=a(5),u=a(7),m=a(6),h=a(8),g=a.n(h),p=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={inputValue:""},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("header",{className:g.a.searchBar},o.a.createElement("form",{className:g.a.searchForm,onSubmit:this.handleSubmit},o.a.createElement("button",{type:"submit",className:g.a.button},o.a.createElement("span",{className:g.a.label},"Search")),o.a.createElement("input",{className:g.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.inputValue,onChange:this.handleChange})))}}]),a}(n.Component),f=a(10),d=a.n(f);var b=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.showModal;return o.a.createElement("li",{className:d.a.item},o.a.createElement("img",{src:t,alt:"img",className:d.a.image,width:"640",height:"360",onClick:function(){return n(a)}}))},v=a(23),y=a.n(v);var w=function(e){var t=e.hits,a=e.showModal;return o.a.createElement("ul",{className:y.a.ImageGallery},t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL;return o.a.createElement(b,{key:t,webformatURL:n,largeImageURL:r,showModal:a})})))},_=a(24),E=a.n(_);a(55);var S=function(){return o.a.createElement("div",{className:"Spinner"},o.a.createElement(E.a,{type:"Circles",color:"#00BFFF",height:100,width:100}))},I=a(25),N=a.n(I);function O(e){var t=e.onClick;return o.a.createElement("button",{className:N.a.button,type:"button",onClick:t},"Load more")}var k=a(11),C=a.n(k),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.largeImageURL;return o.a.createElement("div",{className:C.a.overlay},o.a.createElement("div",{className:C.a.modal},o.a.createElement("img",{src:e,alt:"",width:"1280",height:"860"})))}}]),a}(n.Component),L=a(26),j=a.n(L),M=function(e,t){var a="?q=".concat(e,"&page=").concat(t,"&key=").concat("16324952-34095f6b5c046a6325f3315db","&image_type=photo&orientation=horizontal&per_page=").concat("12");return j.a.get("https://pixabay.com/api/"+a).then((function(e){return{hits:e.data.hits,totalHits:e.data.totalHits}}))},F=a(13);a(73);function R(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}var x=a(27),B=a.n(x),q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={hits:[],totalPage:"",loading:!1,error:null,query:"",page:1,largeImageURL:null},e.handleSearchFormSubmit=function(t){t?(e.setState({query:t,hits:[],page:1}),e.fetchImages(t)):e.showNotif("Enter some query")},e.fetchImages=function(t){e.setState({loading:!0});var a=e.state.page;M(t,a).then((function(t){0!==t.length?e.setState((function(e){return{hits:[].concat(Object(l.a)(e.hits),Object(l.a)(t.hits)),page:e.page+1,totalPage:Math.ceil(t.totalHits/"12"+1)}})):e.showNotif("No results were found for your request.")})).catch((function(t){return e.showNotif("Ups...error".concat(t.message))})).finally((function(){e.setState({loading:!1}),R()}))},e.loadMore=function(){var t=e.state.query;e.fetchImages(t)},e.showNotif=function(t){e.setState({showNotif:!0}),F.b.error("".concat(t))},e.showModal=function(t){e.setState({largeImageURL:t})},e.closeModal=function(){e.setState({largeImageURL:""})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.hits,a=e.loading,n=e.largeImageURL,r=e.totalPage,c=e.page;return o.a.createElement("div",{className:B.a.app},o.a.createElement(p,{onSubmit:this.handleSearchFormSubmit}),t.length>0&&o.a.createElement(w,{hits:t,showModal:this.showModal}),a&&o.a.createElement(S,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:2e3}),t.length>0&&!a&&c!==r&&o.a.createElement(O,{onClick:this.loadMore}),n&&o.a.createElement(U,{largeImageURL:n,onClose:this.closeModal}),o.a.createElement(F.a,{position:"top-center",autoClose:5e3,newestOnTop:!1,closeOnClick:!0,pauseOnHover:!0}))}}]),a}(n.Component);c.a.render(o.a.createElement(q,null),document.getElementById("root"))},8:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__3v23W",searchForm:"Searchbar_searchForm__AmFRu",button:"Searchbar_button__10Ydd",label:"Searchbar_label__3f9ZV",input:"Searchbar_input__1wOWA"}}},[[28,1,2]]]);
//# sourceMappingURL=main.98cccc3a.chunk.js.map